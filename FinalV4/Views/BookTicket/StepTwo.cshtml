@using FinalV4.ViewModel;
@model UserDataWithBooking;


@{
    Layout = "_BookingLayout";
    var NewData = ViewBag.TicketData as object;

    var R = ViewBag.Result7;
    var R2 = ViewBag.Result8;
    decimal total;
    @if (R2 != null)
    {

        total = R.Price + R2.Price;
    }
    else
    {
        total = R.Price;
    }
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="~/css/styleH.css">
    <title> Traveler Insurance </title>
</head>
<body>
    <form id="myForm" asp-action="StepThree" asp-controller="BookTicket" method="post">
    <div class="container form1">
        <div class="row">
                <h1>@NewData</h1>
            <!-- Left column  -->
            <div class="col-8 page-left">

                <!-- Travel Insurance card -->
                <div class="row inner-left travel_ins">
                    <div class="col-3">
                        <img src="/imgs/photo_2023-03-31_10-56-13.jpg" alt="" style="width: 160px; margin-right: 20px;">
                    </div>

                    <div class="col-9">
                        <h3> Travel Insurance </h3>

                        <p>
                            Travel with protection that covers you and your travel companions due to illness or injuries.
                            <br>
                            Coverage included for:
                            <br>
                            <i class="fa-solid fa-check"></i>
                            Trip interruption, cancellation and delays <br>
                            <i class="fa-solid fa-check"></i>
                            Emergency medical and dental expenses <br>
                            <i class="fa-solid fa-check"></i>
                            Emergency assistance and transport <br>
                            <i class="fa-solid fa-check"></i>
                            Baggage loss, delay of theft <br>
                            ... and more.
                            <br>
                            <br>
                            Plan is issued by Cover Genius Insurance Services, LLC, includes insurance by US Fire and non-ins. services by On Call International. By clicking the button to select this coverage, I agree that I have read and agree to the Plan Terms.
                        </p>
                        <hr>

                        <div class="accordion" id="accordionExample" style="border: none;">
                            <div class="accordion-item" style="border: none;">
                                <h2 class="accordion-header" id="headingOne">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                        Read More
                                    </button>
                                </h2>
                                <div style="border: none;" id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                                    <div class="accordion-body">
                                        Coverage may be provided if you, a traveling family member, or a traveling companion get Covid-19 and plan requirements are met. Eligible coverage can include Trip Cancellation before your scheduled departure, Trip
                                        Interruption, Travel Delay, Medical and Dental, and Emergency Assistance and Transportation coverage during your trip. This plan is available for US residents only.
                                    </div>
                                </div>
                            </div>
                        </div>

                        <hr>

                        <div class="row align-items-end">
                            <div class="col-4">
                                <div class="row">
                                    <div class="col-7"></div>
                                    <div class="col-5">
                                        <br>
                                        <span> Total </span>
                                        <h5 style="font-size: 16px; font-weight: bold;"> ‪US$18.08‬ </h5>
                                    </div>
                                </div>
                            </div>

                            <div class="col-8">
                                <span> Select an option * </span>
                                @*<form id="myForm">*@
                                    <!-- <div style="width: 320px; height: 20px;"> -->
                                        <div class="d-flex" >
                                    <span style="border: 1px solid #000; border-top-left-radius: 10px; border-bottom-left-radius: 10px; width: 50%; float: left; padding: 10px; display: block;">
                                        <input id="rad1" type="radio" name="cart">
                                        <label for="rad1" class="radio-label"> &nbsp; <strong style="font-weight: bold; font-size: 16px;"> No thanks </strong> </label>
                                    </span>
                                    <span style="border: 1px solid #000; border-top-right-radius: 10px; border-bottom-right-radius: 10px; width: 50%; float: left; padding: 10px; display: block;">
                                        <input id="rad2" type="radio" name="cart">
                                        <label for="rad2" class="radio-label"> &nbsp; <strong style="font-weight: bold; font-size: 16px;"> Add to cart </strong> </label>
                                    </span>
                                    </div>
                                    <!-- </div> -->

                                @*</form>*@
                            </div>
                        </div>



                    </div>

                </div>

                <br>
                <p style="font-size: 15px;">
                    By booking you confirm that the names on the booking match those on the passports of those travelling.
                </p>

                <input style="display: block; background-color: #6998AB; padding:10px 90px; font-weight: bold; margin: auto;" class="btn myBtn" form="myForm" type="submit" value="Continue">

            </div>

            <!-- Right column  -->
          <div class="col-4">
                     <div class=" page-right">
                    <h3> Your Order </h3>
                    <hr>
                        @if (R2 != null)
                        {

                                    <h5> Departure </h5>
                                        <span> @R.DateFrom.ToShortDateString() </span>
                                    <h5>  10:05 AM - 01:45 PM <span style="font-weight: 100; font-size: 20px;"> (2h 40min) </span> </h5>
                                    <span> @R.DepartureCity.Name  - @R.ArrivalCity.Name </span>
                                      
                                    <br/>
                                    <br/>
                                    <h5> Return </h5>
                                        <span> @R2.DateTo.ToShortDateString()??0</span>
                                    <h5>  04:30 PM - 06:15 PM <span style="font-weight: 100; font-size: 20px;"> (2h 45min) </span> </h5>
                                        <span> @R2.DepartureCity.Name - @R2.ArrivalCity.Name </span>
                                   
                                    <br/>
                                    <br/>
                        }
                        else if (R2 == null)
                        {
                                         <h5> Departure </h5>
                                            <span> @R.DateFrom.ToShortDateString() </span>
                                        <h5>  10:05 AM - 01:45 PM <span style="font-weight: 100; font-size: 20px;"> (2h 40min) </span> </h5>
                                            <span> @R.DepartureCity.Name - @R.ArrivalCity.Name </span>
                                             



                                    <br>
                            @*    <h4> @total$</h4>*@

                            @*   else
                        {*@

                                    <h3>No Return Flight</h3>
                                    <br>
                            @*  <h4> @R.Price$</h4>*@
                            @*  }*@

                        }
                        <div class="row">
                        <div class="col-4"> <hr> </div>
                        <div class="col-4">
                            <a href="#" class="btn" style="border: 1px solid #000; margin-left: -24px; margin-right: -24px;"> Travel details </a>
                        </div>
                        <div class="col-4" style="margin-left: -17px"> <hr> </div>
                    </div>

                    <h5> Bags </h5>
                    <h5> <i class="fas fas fa-briefcase"></i> Personal item </h5>
                    <span> Personal item included for all passengers </span>
                    <h5> <i class="fas fa-suitcase-rolling"></i> Hand baggage </h5>
                    <span> 1x7 kg included for all passengers </span>
                    <h5> <i class="fa fa-shopping-bag"></i> Checked baggage </h5>
                    <span> 1x23 kg for each passenger </span>
                    <hr>

                    <div class="row">
                        <div class="col-8">
                            <h5> @ViewBag.firstname @ViewBag.lastname ,Adult </h5>

                            <br/>
                            <br/>
                            <span> Price per adult </span>
                            <br>

                            <br>

                        </div>
                        <div class="col-2" style="margin-left: -14px;">
                                @if (R2 != null)
                                {
                                            <h6> @total$</h6>
                                }
                                else if (R2 == null)
                                {
                                            <h6>@R.Price$</h6>

                                }
                               <br/>
                               <br/>
                                 <span>@R.Price$</span>
                            </div>
                    </div>

                    <hr>

                    <div class="row">
                        <h5> Total amount </h5>
                        <div class="col-8">
                            <span> Subtotal </span>
                            <br>
                            <a href="#"> Payment options </a>
                            <br>
                            <h5> Amount to pay </h5>
                        </div>
                        <div class="col-2" style="">
                                @if (R2 != null)
                                {

                                    <span> @total$</span>
                                    <br>

                                    <br>
                                            <h5> @total$</h5>
                                    <br>
                                }
                                else
                                {
                                            <h5>@R.Price$</h5>
                                }
                        </div>
                    </div>

                    <hr>
                    <h6> <i class="fas fa-alarm-blus"></i> Hurry! Only 4 seats at this price!</h6>
                </div>
            </div>

        </div>


    </div>
    </form>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
    <script>
        document.getElementById("")
    </script>
</body>
</html>